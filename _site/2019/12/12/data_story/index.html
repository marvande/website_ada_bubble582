<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Tell me what you buy, I will tell you who you are. A data story. | Tell me what you buy and I will tell you who you are</title><meta name="description" content="Insert description here. "><meta itemprop="name" content="Marijn van der Meer"><meta itemprop="description" content="Insert description here. "><meta itemprop="image" content="http://localhost:4000/assets/images/pic07.jpg"><meta property="og:url" content="http://localhost:4000/2019/12/12/data_story/"><meta property="og:type" content="website"><meta property="og:title" content="Tell me what you buy, I will tell you who you are. A data story. | Tell me what you buy and I will tell you who you are"><meta property="og:site_name" content="Tell me what you buy and I will tell you who you are"><meta property="og:description" content="Insert description here. "><meta property="og:image" content="http://localhost:4000/assets/images/pic07.jpg"><link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"><link rel="stylesheet" href="/assets/css/app.min.css"><link rel="alternate" type="application/rss+xml" title="Tell me what you buy and I will tell you who you are" href="/feed.xml"><link rel="canonical" href="/2019/12/12/data_story/"></head><body id="tell-me-what-you-buy-i-will-tell-you-who-you-are-a-data-story" class="post-layout"><header class="header"> <a class="header__title" href="http://localhost:4000/">Tell me what you buy and I will tell you who you are</a><nav><ul class="header__list"><li><a href="/2019/12/12/data_story/">Data Story</a></li><li><span class="popup__open">Contact</span></li></ul></nav></header><main class="ðŸ’ˆ"><div class="post"><article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"><div class="post__header section-padding--double"><div class="grid-small"><h2 itemprop="name headline">Tell me what you buy, I will tell you who you are. A data story.</h2><h3 itemprop="name headline">Applied Data Analysis EPFL, Autumn 2019</h3><time class="post__date" datetime="2019-12-12T00:00:00+01:00" itemprop="datePublished">12 Dec 2019</time></div></div><div class="post__img"><div><figure class="absolute-bg" style="background-image: url('/assets/images/pic07.jpg');"></figure></div></div><div class="post__content section-padding"><div class="grid"><div id="markdown" itemprop="articleBody"><style> img { display: block; margin-left: auto; margin-right: auto; } p{ text-align: justify; }</style><h4>Chapter 0. Preface.</h4><p> Due to rumours about the troublesome ability of shopping centers to infer consumer information based on their shopping patterns, a private investigator, detective Duck, was hired by a consumer advocacy group to investigate the matter. Here are the details of his investigation.</p><p><img class="center" src="http://localhost:4000/assets/images/pic08.png" alt="Markdown Monster icon" width="200" height="150" /></p><p> Living in a time and age where every piece of our data is stored and analysed, the consumer advocacy group wonders what information retailers can gather and infer about consumers. To answer their question, detective Duck only gets information about a two year shopping spree of a group of 2500 clients of an unknown shopping center in the US. Based on this data, he seeks to identify possible links, if they exist, between demographic information (e.g. marital status, income, number of children, etc) and purchase patterns. In other words, he would like to see how "easy" and how precise it is for retailers to infer a specific customer profile based on what their shopping habits as this could lead to easy targeted marketing. Luckily, detective Duck has followed the autumn 2019 Applied Data Analysis at the EPFL and counts on applying his newly aquired knowledge to this case.</p><p><br /></p><hr /><h4>Chapter 1. A rocky start to a rocky investigation.</h4><p><em><strong>A Dunnhumby dataset.</strong></em></p><p> The consumer advocacy group (also called G.A.C) provided the detective Duck with a dataset owned by Dunhumby, an american data science company. This dataset includes the results of a two years long study, over 2500 voluntary households. Detective Duck knows that companies use harvested data to perform targeted marketing. Using his skills in data analysis, he plans to find out exactly what can be predicted out about the customer's personnal information. He expects to observe an relation in between the clients's consumption habits and their demographic characteristics. For example, he suspects that the income category will influence the amount and price range of groceries bought per week.</p><p><em><strong>Preprocessing.</strong></em></p><p> When facing a huge amount of data, detective Duck has learned to start by preprocessing and cleaning the available information. For this, he keeps only households which portrayed coherent and sufficient demographic data. In a second time he labels the products with precise categories refering to grocery shopping.</p><p><em><strong>Demographics.</strong></em></p><p> Detective Duck had to face a main issue when preprocessing his demographic data. Indeed, over the 2500 households studied by Dunhumby, only 780 provided their demographic information. Among these 780 families, around 750 were selected after cleaning. At this moment, suspicions started to arise in detective Duck's mind. A too small amount of data might cause troubles. Nevertheless, after a long night of working and cursing, the data was finally usable and analysable.</p><p><img class="center" src="http://localhost:4000/assets/images/pic09.png" alt="Markdown Monster icon" width="400" height="300" /></p><p> Now detective Duck is faced with the real challenge. He aims to try and extract the main consumption patterns of the clients and correlate them to their demographic features. For this, he developped several strategies as the investigation turned out to be harder than he tought when venturing into this case. Looking at the data, he quickly regretted ever leaving his cozy pond.</p><p><em><strong>Products.</strong></em></p><p> After families selection, the detective Duck still needs to look at what they buy. The 750 selected families had access to a total of 92353 different products in their shopping center. These products are defined by their department (the place at which we find them) and by two different and non standard descriptive words sequences (commodity and sub-commodity). To be able to classify them the detective creates a function comparing both the commodity and the sub-commodity to a list of expressions from the lexical field of the grocery. He associates each expression to a certain grocery category. Since the products' descriptions are atypical, he give them a "score of similarity" with the expressions in the list. The highest score, above a certain threshold determines the label of the product. He uses the Fuzzywuzzy library to calculate this score. Fuzzywuzzy is based on Levenshtein Distance to calculate the differences and similarities between string sequences.</p><p><img class="center" src="http://localhost:4000/assets/images/BAD-products_trans_label.png" alt="Markdown Monster icon" width="3200" height="1600" /></p><p><br /></p><hr /><h4>Chaptre 2. Profiling is not a piece of cake..</h4><p> Now the data are ready for the analysis, the detective Duck is excited about facing the real challenge: profile prediction using machine learning. His goal is to extract the main consumption patterns of the shopping center's clients, and correlate them to their demographic features. For this purpose, he is already developping several clever strategies. Despite all his efforts, the investigation will turn out to be harder than he tought when venturing into this case. Looking at the data, he will quickly regret ever leaving his cozy pond...</p><p><em><strong>First round of predictions.</strong></em></p><p><i>Demographic and shopping trend correlations</i></p><p> After having prepared the data for analysis, Detective Duck seek for major correlation patterns. He produces the following matrix to show the relation strength in between demographic features, spendings and the products quantities for the most common labels. As he expected, all the features linked to the household composition are highly correlated. Indeed in the matrix the scores for household size correlated to the marital status and the household size correlated to the number of kids are both 0.91.</p><p><img class="center" src="http://localhost:4000/assets/images/BAD-correlation-matrix.png" alt="Markdown Monster icon" width="3200" height="1600" /></p></div><ul class="post__social"><li><a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2019/12/12/data_story/" target="_blank"><i class="fa fa-facebook"></i></a></li><li><a href="https://twitter.com/intent/tweet?&text=Tell me what you buy, I will tell you who you are. A data story.+http://localhost:4000/2019/12/12/data_story/" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?mini=true&source=Tell me what you buy, I will tell you who you are. A data story.&summary=&url=http://localhost:4000/2019/12/12/data_story/" target="_blank"><i class="fa fa-linkedin"></i></a></li><li><a href="https://www.reddit.com/submit?url=http://localhost:4000/2019/12/12/data_story/" target="_blank"><i class="fa fa-reddit-alien"></i></a></li></ul></div></div></article></div></main><footer class="footer section-padding"><div class="grid"><hr class="sep--white" /><div class="footer__container"><ul class="footer__tags"></ul><ul class="footer__social"><li><a href="https://github.com/marvande/epfl-ada-2019-project-bubble582" target="_blank"><i class="fa fa-github"></i></a></li></ul></div></div></footer><section class="contact popup"><div class="popup__close"><div class="popup__exit"></div></div><div class="contact__container popup__container"><div class="contact__img"><figure class="absolute-bg" style="background-image: url(/assets/images/pic06.jpg);"></figure></div><div class="contact__content"><div class="contact__mast section-padding--half"><div class="grid"><h2>Contact</h2></div></div><div class="section-padding--none"><hr class="sep"/></div><div class="contact__form section-padding--half"><div class="grid-xlarge"> <form id="form" class="form" action="https://formcarry.com/s/HkIo0nMb7" method="POST"><div class="form__subcontainer"><div> <label for="form-first-name">First Name</label> <input type="text" name="first-name" id="form-first-name" required></div><div> <label for="form-last-name">Last Name</label> <input type="text" name="last-name" id="form-last-name" required></div></div><div> <label for="form-email">E-Mail</label> <input type="email" name="email" id="form-email" required></div><div> <label for="form-message">Message</label> <textarea name="message" id="form-message" rows="3"></textarea></div><div class="form__submit"><div class="form__btn"> <input type="submit" value="Send"></div></div><p class="form__message"></p></form></div></div></div></div></section><script src="/assets/js/app.min.js"></script></body></html>
  